---
sidebar_position: 1
---

# 安装 与 API导入

## 一、安装 ParticleLib

你需要通过 [releases](https://github.com/602723113/ParticleLib/releases) 页面, 下载最新的 ParticleLib 并将其 放入 ./plugins 文件夹即可

## 二、依赖 ParticleLib

ParticleLib 目前使用 JitPack 进行分发, mavenCentral 正在申请当中

### Maven
Step 1. Add the JitPack repository to your build file
```xml
<repositories>
    <repository>
        <id>jitpack.io</id>
        <url>https://www.jitpack.io</url>
    </repository>
</repositories>
```
Step 2. Add the dependency
```xml
<dependency>
    <groupId>com.github.602723113</groupId>
    <artifactId>ParticleLib</artifactId>
    <version>1.3.0</version>
</dependency>
```
### Gradle
Step 1. Add the JitPack repository to your build file
Add it in your root build.gradle at the end of repositories:
```gradle
allprojects {
    repositories {
        maven { url 'https://www.jitpack.io' }
    }
}
```
Step 2. Add the dependency
```gradle
dependencies {
    implementation 'com.github.602723113:ParticleLib:1.3.0'
}
```

# 创建你的第一个粒子特效：圆
ParticleLib 会将所有写好的粒子特效放入名为 pobject 的 [程序包](https://github.com/602723113/ParticleLib/tree/master/src/main/java/top/zoyn/particlelib/pobject) 当中。
所有的特效都是基于 [ParticleObject](https://github.com/602723113/ParticleLib/blob/master/src/main/java/top/zoyn/particlelib/pobject/ParticleObject.java)  这个**抽象类**进行的构造

因此 ParticleObject 是所有特效的基础, 且 ParticleObject 支持直接添加 Matrix 矩阵的方式直接对所要生成的粒子进行 变换(Transformation) 的操作

在 ParticleLib 当中所有的特效都是通过 new 直接构造, 具体构造方法读者可以自行至源码处查阅, 注释已经写得比较清晰。例如见下面的代码

```java
Player player = ...;
Circle circle = new Circle(player.getLocation());
circle.show();

// 当然你也可以和下面一样的方式来设置参数, 或者直接在构造器里直接指定, ParticleLib 支持链式操作
// circle.setRadius(5D)
//       .setOrigin(player.getLocation().add(1, 0, 0));
```

[Circle](https://github.com/602723113/ParticleLib/blob/master/src/main/java/top/zoyn/particlelib/pobject/Circle.java) 类当中的构造器至少是只有 Location 这一参数, 因此在上方的示范代码当中就会生成如下特效

![Circle.png](https://i.loli.net/2020/11/02/itl7pQ2hMNuLVTI.png)

:::tip TIPS
如果在一开始你只指定了圆的圆点, 那么 ParticleLib 就会从全部默认的参数来进行显示
默认参数为: 半径为 1, 粒子点间隔为 1
:::
# 如何做到持续的显示

在上方的代码当中你会发现 粒子特效 仅仅出现了一次就消失了, 而**无法进行持续的出现**, 那么这个时候我们可以调用以下两个方法

:::tip
我们之前说过所有的 粒子特效类 都继承了 ParticleObject 这一抽象类, 因此可以直接调用下面的方法
:::

- ParticleObject#alwaysShow
> 可以使得当前的特效一直进行显示, 只不过 ParticleLib 会占用主线程来执行计算
- ParticleObject#alwaysShowAsync
> 跟 alwaysShow 一样, 只不过 ParticleLib 会使用异步的方式来执行计算并显示特效

所以上面的代码我们可以改成
```java
Player player = ...;
Circle circle = new Circle(player.getLocation());
circle.alwaysShowAsync();
```

此时你会发现 圆 就会一直显示在地图上
